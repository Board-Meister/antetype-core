var i={INIT:"antetype.init",CLOSE:"antetype.close",DRAW:"antetype.draw",CALC:"antetype.calc",RECALC_FINISHED:"antetype.recalc.finished",MODULES:"antetype.modules",SETTINGS:"antetype.settings.definition",TYPE_DEFINITION:"antetype.layer.type.definition",FONTS_LOADED:"antetype.font.loaded",CANVAS_CHANGE:"antetype.canvas.change"};var a="core",s="0.0.5",n=class{#t;#n=null;#e=!1;#i=null;static inject={marshal:"boardmeister/marshal",herald:"boardmeister/herald"};inject(e){this.#t=e}async loadModules(e){return(await this.#o()).loadModules(e)}register(e){let{registration:r}=e.detail;r[a]={load:async()=>(!this.#n&&!this.#e&&(this.#e=new Promise(t=>{this.#r("core.js").then(o=>{this.#n=o.default,this.#e=!1,t()})})),this.#e&&await this.#e,t=>this.#n({modules:t,herald:this.#t.herald})),version:s}}static subscriptions={[i.MODULES]:"register"};#r(e){return import(this.#t.marshal.getResourceUrl(this,e))}async#o(){return this.#i??=(await this.#r("helper.js")).default,new this.#i(this.#t.herald)}},l=n,c=l;export{n as AntetypeCore,a as ID,s as VERSION,c as default};
